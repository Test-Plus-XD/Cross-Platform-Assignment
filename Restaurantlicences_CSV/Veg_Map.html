<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Vegetarian Restaurants Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>html,body,#map{height:100%;margin:0;padding:0}</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Create map and base layer
// Initialise map centred on Hong Kong
var map = L.map('map').setView([22.32, 114.17], 12);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

// Load GeoJSON (assumes file vegetarian_restaurants.geojson is accessible)
fetch('vegetarian_restaurants.geojson')
  .then(res => res.json())
  .then(data => {
    L.geoJSON(data, {
      onEachFeature: function(feature, layer) {
        var p = feature.properties || {};
        var html = '<strong>' + (p.Name_EN || p.Name_TC || 'No name') + '</strong><br/>' +
                   (p.Address_EN || p.Address_TC || '') + '<br/>' +
                   'Keywords: ' + (p.EN_Keyword||[]).join(';') + ' ' + (p.CN_Keyword||[]).join(';');
        layer.bindPopup(html);
      },
      pointToLayer: function(feature, latlng) {
        return L.marker(latlng);
      }
    }).addTo(map);
  })
  .catch(err => { console.error('Failed to load GeoJSON:', err); alert('Could not load geojson.');});
</script>
</body>
</html>