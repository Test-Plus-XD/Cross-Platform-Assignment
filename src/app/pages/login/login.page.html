<ion-content fullscreen class="ion-padding">
  <br><br><br><br><br>
  <div style="margin: 5vw">
    <!-- Email/Password Form -->
    <form (ngSubmit)="onSubmitEmail()" #emailForm="ngForm">

      <!-- App Brand Image -->
      <div class="brand-container">
        <img [src]="brandIcon$ | async" alt="App Brand" class="login-brand-img" />
      </div>

      <!-- Display Name Field (only shown in registration mode) -->
      <ion-item *ngIf="!isLoginMode">
        <ion-label position="floating">{{ (lang$ | async) === 'TC' ? translations.displayName.TC : translations.displayName.EN }}</ion-label>
        <ion-input type="text"
                   [(ngModel)]="displayName"
                   name="displayName"
                   autocomplete="name">
        </ion-input>
      </ion-item>

      <!-- Email Field -->
      <ion-item>
        <ion-label position="floating">{{ (lang$ | async) === 'TC' ? translations.email.TC : translations.email.EN }}</ion-label>
        <ion-input type="email"
                   required
                   [(ngModel)]="email"
                   name="email"
                   autocomplete="email">
        </ion-input>
      </ion-item>

      <!-- Password Field -->
      <ion-item>
        <ion-label position="floating">{{ (lang$ | async) === 'TC' ? translations.password.TC : translations.password.EN }}</ion-label>
        <ion-input type="password"
                   required
                   [(ngModel)]="password"
                   name="password"
                   autocomplete="current-password">
        </ion-input>
      </ion-item>

      <!-- Submit Button -->
      <ion-button expand="block"
                  type="submit"
                  class="ion-margin-top"
                  style="background-color: var(--accent); color: whitesmoke">
        {{ (lang$ | async) === 'TC' ? (isLoginMode ? translations.login.TC : translations.createAccount.TC) : (isLoginMode ? translations.login.EN : translations.createAccount.EN) }}
      </ion-button>
    </form>

    <!-- Forgot Password Link (only in login mode) -->
    <ion-item lines="none" class="ion-margin-top" *ngIf="isLoginMode">
      <ion-label class="ion-text-center">
        <ion-button fill="clear" size="small" (click)="forgotPassword()">
          {{ (lang$ | async) === 'TC' ? translations.forgetPassword.TC : translations.forgetPassword.EN }}
        </ion-button>
      </ion-label>
    </ion-item>

    <!-- Toggle Mode Button -->
    <ion-item lines="none" class="ion-margin-top">
      <ion-label class="ion-text-center">
        <ion-text color="medium">
          {{ (lang$ | async) === 'TC' ? (isLoginMode ? translations.dontHaveAccount.TC : translations.alreadyHaveAccount.TC) : (isLoginMode ? translations.dontHaveAccount.EN : translations.alreadyHaveAccount.EN) }}
        </ion-text>
        <ion-button fill="clear" (click)="toggleMode()">
          {{ (lang$ | async) === 'TC' ? (isLoginMode ? translations.signup.TC : translations.login.TC) : (isLoginMode ? translations.signup.EN : translations.login.EN) }}
        </ion-button>
      </ion-label>
    </ion-item>

    <!-- Divider -->
    <ion-item lines="none" class="ion-margin-top">
      <ion-label class="ion-text-center" style="text-align: center">
        <ion-text color="medium">{{ (lang$ | async) === 'TC' ? translations.or.TC : translations.or.EN }}</ion-text>
      </ion-label>
    </ion-item>

    <!-- Google Sign-In Button -->
    <ion-button expand="block"
                color="light"
                (click)="onGoogleSignIn()"
                class="google-button">
      <img slot="start" src="https://img.icons8.com/?size=100&id=17949&format=png&color=000000" alt="Google" class="google-icon"/>
      {{ (lang$ | async) === 'TC' ? translations.continueWithGoogle.TC : translations.continueWithGoogle.EN }}
    </ion-button>
  </div>
</ion-content>